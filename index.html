<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Video Site</title>

  <style>
    body { font-family: Arial; background:#0f0f0f; color:white; }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
      gap:15px;
      padding:20px;
    }

    .card{
      position:relative;
      cursor:pointer;
      overflow:hidden;
      background:#181818;
      border-radius:14px;
      padding-bottom:10px;
    }

    video, img{
      width:100%;
      border-radius:14px;
      display:block;
    }

    video{
      position:absolute;
      top:0;
      left:0;
      opacity:0;
      transition:0.3s;
    }

    .card:hover video{
      opacity:1;
    }

    .title{
      padding:8px 10px 0 10px;
      font-size:15px;
    }
  </style>
</head>

<body>

<h2 style="text-align:center">Video Gallery</h2>

<div class="grid" id="videos"></div>

<script>

  // ðŸ”¥ Ù‡Ù†Ø§ ØªØ­Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª â€” ÙƒÙ„ ÙÙŠØ¯ÙŠÙˆ Ù„Ù‡ (Ù„ÙŠÙ†Ùƒ + Ø¹Ù†ÙˆØ§Ù† + ÙˆØµÙ)
  const videos = [
    {
      url: "https://www.w3schools.com/html/mov_bbb.mp4",
      title: "Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø£ÙˆÙ„ ØªØ¬Ø±Ø¨Ø©",
      description: "Ù‡Ø°Ø§ ÙÙŠØ¯ÙŠÙˆ ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ø³ÙŠØ· Ù„Ø¹Ø±Ø¶ ÙÙƒØ±Ø© Ø§Ù„Ù…Ø´ØºÙ„ ÙˆØ¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„."
    },
    {
      url: "https://www.w3schools.com/html/movie.mp4",
      title: "Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù…Ø«Ø§Ù„ ØªÙˆØ¶ÙŠØ­ÙŠ",
      description: "ÙŠÙˆØ¶Ø­ ÙƒÙŠÙÙŠØ© ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙˆØ¹Ø±Ø¶ ÙƒÙˆÙØ± ÙˆØµÙˆØ±Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù…Ù†Ù‡."
    }
  ];

  const container = document.getElementById("videos");

  videos.forEach(v => {

    const card = document.createElement("div");
    card.className = "card";

    const img = document.createElement("img");
    const video = document.createElement("video");
    const title = document.createElement("div");

    title.className = "title";
    title.innerText = v.title;

    video.src = v.url;
    video.muted = true;
    video.preload = "auto";
    video.playsInline = true;

    // ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ±
    card.onmouseover = () => video.play();
    card.onmouseout = () => { 
      video.pause(); 
      video.currentTime = 0; 
    };

    // ÙØªØ­ ØµÙØ­Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„
    card.onclick = () => {
      window.location.href =
        "watch.html?video=" + encodeURIComponent(v.url) +
        "&title=" + encodeURIComponent(v.title) +
        "&desc=" + encodeURIComponent(v.description);
    };

    // ØµÙˆØ±Ø© Ù…Ù† ÙØ±ÙŠÙ… Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
    video.addEventListener("loadedmetadata", () => {

      const duration = video.duration;
      const randomTime = duration * (0.1 + Math.random() * 0.7);
      video.currentTime = randomTime;

      video.addEventListener("seeked", () => {

        const canvas = document.createElement("canvas");
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;

        const ctx = canvas.getContext("2d");
        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

        img.src = canvas.toDataURL("image/png");

      }, { once: true });

    });

    card.appendChild(img);
    card.appendChild(video);
    card.appendChild(title);
    container.appendChild(card);

  });

</script>

</body>
</html>
