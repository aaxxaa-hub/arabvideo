<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Video Site</title>

  <style>
    body { font-family: Arial; background:#0f0f0f; color:white; }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
      gap:15px;
      padding:20px;
    }

    .card{
      cursor:pointer;
      background:#181818;
      border-radius:14px;
      padding-bottom:10px;
    }

    .thumb{
      position:relative;
      border-radius:14px;
      overflow:hidden;
    }

    .thumb img,
    .thumb video{
      width:100%;
      display:block;
      border-radius:14px;
    }

    .thumb video{
      position:absolute;
      top:0;
      left:0;
      opacity:0;
      transition:0.3s;
    }

    .thumb:hover video{
      opacity:1;
    }

    .title{
      padding:8px 10px 0 10px;
      font-size:15px;
    }

    .buttons{
      text-align:center;
      margin:20px;
    }

    button{
      padding:10px 18px;
      border-radius:8px;
      border:none;
      cursor:pointer;
      font-size:14px;
    }
  </style>
</head>

<body>

<h2 style="text-align:center">Video Gallery</h2>

<div class="grid" id="videos"></div>

<div class="buttons">
  <button id="nextBtn">ÿßŸÑÿ™ÿßŸÑŸä ‚è≠</button>
</div>

<script>

  // üü¢ ŸáŸÜÿß ÿ∂ÿπ ŸÉŸÑ ŸÅŸäÿØŸäŸàŸáÿßÿ™ŸÉ ŸÖŸáŸÖÿß ŸÉÿßŸÜ ÿπÿØÿØŸáÿß
  const videos = [
    { url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"1 ŸÅŸäÿØŸäŸà", description:"desc 1"},
    { url:"https://www.w3schools.com/html/movie.mp4", title:"2 ŸÅŸäÿØŸäŸà", description:"desc 2"},
    { url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"3 ŸÅŸäÿØŸäŸà", description:"desc 3"},
    { url:"https://www.w3schools.com/html/movie.mp4", title:"4 ŸÅŸäÿØŸäŸà", description:"desc 4"},
    { url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"5 ŸÅŸäÿØŸäŸà", description:"desc 5"},
    { url:"https://www.w3schools.com/html/movie.mp4", title:"6 ŸÅŸäÿØŸäŸà", description:"desc 6"},
    { url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"7 ŸÅŸäÿØŸäŸà", description:"desc 7"},
    { url:"https://www.w3schools.com/html/movie.mp4", title:"8 ŸÅŸäÿØŸäŸà", description:"desc 8"},
    { url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"9 ŸÅŸäÿØŸäŸà", description:"desc 9"},
    { url:"https://www.w3schools.com/html/movie.mp4", title:"10 ŸÅŸäÿØŸäŸà", description:"desc 10"},
    { url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"11 ŸÅŸäÿØŸäŸà", description:"desc 11"},
    { url:"https://www.w3schools.com/html/movie.mp4", title:"12 ŸÅŸäÿØŸäŸà", description:"desc 12"}
  ];

  const container = document.getElementById("videos");
  const nextBtn = document.getElementById("nextBtn");

  let page = 0;
  const perPage = 10;

  function loadPage(){
    container.innerHTML = "";

    const start = page * perPage;
    const end   = start + perPage;

    const list = videos.slice(start,end);

    list.forEach(v => {

      const card = document.createElement("div");
      card.className = "card";

      const thumb = document.createElement("div");
      thumb.className = "thumb";

      const img = document.createElement("img");
      const video = document.createElement("video");

      const title = document.createElement("div");
      title.className = "title";
      title.innerText = v.title;

      video.src = v.url;
      video.muted = true;
      video.preload = "auto";
      video.playsInline = true;

      thumb.onmouseover = () => video.play();
      thumb.onmouseout = () => { 
        video.pause(); 
        video.currentTime = 0; 
      };

      card.onclick = () => {
        window.location.href =
          "watch.html?video=" + encodeURIComponent(v.url) +
          "&title=" + encodeURIComponent(v.title) +
          "&desc=" + encodeURIComponent(v.description);
      };

      video.addEventListener("loadedmetadata", () => {

        const duration = video.duration;
        const randomTime = duration * (0.1 + Math.random() * 0.7);
        video.currentTime = randomTime;

        video.addEventListener("seeked", () => {

          const canvas = document.createElement("canvas");
          canvas.width = video.videoWidth;
          canvas.height = video.videoHeight;

          const ctx = canvas.getContext("2d");
          ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

          img.src = canvas.toDataURL("image/png");

        }, { once: true });

      });

      thumb.appendChild(img);
      thumb.appendChild(video);

      card.appendChild(thumb);
      card.appendChild(title);

      container.appendChild(card);

    });

    // ÿ•ÿÆŸÅÿßÿ° ÿ≤ÿ± ÿßŸÑÿ™ÿßŸÑŸä ÿ•ÿ∞ÿß ŸÖŸÅŸäÿ¥ ÿ™ÿßŸÜŸä
    if(end >= videos.length){
      nextBtn.style.display = "none";
    } else {
      nextBtn.style.display = "inline-block";
    }

  }

  nextBtn.onclick = () => {
    page++;
    loadPage();
    window.scrollTo({top:0,behavior:"smooth"});
  };

  // ÿ£ŸàŸÑ ÿ™ÿ≠ŸÖŸäŸÑ
  loadPage();

</script>

</body>
</html>
