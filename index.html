<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Video Gallery</title>
  <style>
    body { font-family: Arial; background:#0f0f0f; color:white; }
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
      gap:15px;
      padding:20px;
    }
    .card{
      cursor:pointer;
      background:#181818;
      border-radius:14px;
      padding-bottom:10px;
    }
    .thumb{
      position:relative;
      border-radius:14px;
      overflow:hidden;
      height:200px;
    }
    .thumb img,
    .thumb video{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      border-radius:14px;
    }
    .thumb video{
      position:absolute;
      top:0;
      left:0;
      opacity:0;
      transition:0.3s;
    }
    .thumb:hover video{
      opacity:1;
    }
    .title{
      padding:8px 10px 0 10px;
      font-size:15px;
    }
    .duration{
      padding:0 10px 5px 10px;
      font-size:13px;
      color:#ccc;
    }
    .buttons{
      text-align:center;
      margin:20px;
    }
    button{
      padding:10px 18px;
      border-radius:8px;
      border:none;
      cursor:pointer;
      font-size:14px;
      margin:0 5px;
    }
  </style>
</head>
<body>

<h2 style="text-align:center">Video Gallery</h2>
<div class="grid" id="videos"></div>

<div class="buttons">
  <button id="prevBtn">ÿßŸÑÿ≥ÿßÿ®ŸÇ ‚èÆ</button>
  <button id="nextBtn">ÿßŸÑÿ™ÿßŸÑŸä ‚è≠</button>
</div>

<script>
  // üîπ ŸáŸÜÿß ÿ∂ÿπ ÿßŸÑŸÅŸäÿØŸäŸàŸáÿßÿ™: ÿ±ÿßÿ®ÿ∑ ÿÆÿßÿ±ÿ¨Ÿä + ÿπŸÜŸàÿßŸÜ + ŸÖÿØÿ©
  const videos = [
    {url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ£ŸàŸÑ", duration:"00:10"},
    {url:"https://www.w3schools.com/html/movie.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ´ÿßŸÜŸä", duration:"00:12"},
    {url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ´ÿßŸÑÿ´", duration:"00:15"},
    {url:"https://www.w3schools.com/html/movie.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ±ÿßÿ®ÿπ", duration:"00:20"},
    {url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿÆÿßŸÖÿ≥", duration:"00:08"},
    {url:"https://www.w3schools.com/html/movie.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ≥ÿßÿØÿ≥", duration:"00:18"},
    {url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ≥ÿßÿ®ÿπ", duration:"00:25"},
    {url:"https://www.w3schools.com/html/movie.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ´ÿßŸÖŸÜ", duration:"00:11"},
    {url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ™ÿßÿ≥ÿπ", duration:"00:14"},
    {url:"https://www.w3schools.com/html/movie.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿπÿßÿ¥ÿ±", duration:"00:09"},
    {url:"https://www.w3schools.com/html/mov_bbb.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ≠ÿßÿØŸä ÿπÿ¥ÿ±", duration:"00:22"},
    {url:"https://www.w3schools.com/html/movie.mp4", title:"ÿßŸÑŸÅŸäÿØŸäŸà ÿßŸÑÿ´ÿßŸÜŸä ÿπÿ¥ÿ±", duration:"00:16"}
  ];

  const container = document.getElementById("videos");
  const nextBtn = document.getElementById("nextBtn");
  const prevBtn = document.getElementById("prevBtn");

  let page = 0;
  const perPage = 10;

  function loadPage(){
    container.innerHTML = "";
    const start = page*perPage;
    const end = Math.min(start + perPage, videos.length);
    const list = videos.slice(start, end);

    list.forEach(v => {
      const card = document.createElement("div");
      card.className="card";

      const thumb = document.createElement("div");
      thumb.className="thumb";

      const img = document.createElement("img");
      const video = document.createElement("video");

      const title = document.createElement("div");
      title.className="title";
      title.innerText = v.title;

      const duration = document.createElement("div");
      duration.className="duration";
      duration.innerText = v.duration;

      video.src = v.url;
      video.muted = true;
      video.preload="auto";
      video.playsInline=true;

      thumb.onmouseover = ()=>video.play();
      thumb.onmouseout = ()=>{ video.pause(); video.currentTime=0; };

      // ÿ™ŸàŸÑŸäÿØ thumbnail ŸÖŸÜ ŸÅŸäÿØŸäŸà
      video.addEventListener("loadedmetadata", ()=>{
        const durationSec = video.duration;
        const randomTime = durationSec * (0.1 + Math.random()*0.7);
        video.currentTime = randomTime;
        video.addEventListener("seeked", ()=>{
          const canvas = document.createElement("canvas");
          canvas.width = video.videoWidth;
          canvas.height = video.videoHeight;
          const ctx = canvas.getContext("2d");
          ctx.drawImage(video,0,0,canvas.width,canvas.height);
          img.src = canvas.toDataURL("image/png");
        }, {once:true});
      });

      thumb.appendChild(img);
      thumb.appendChild(video);

      card.appendChild(thumb);
      card.appendChild(title);
      card.appendChild(duration);

      container.appendChild(card);
    });

    // ÿ£ÿ∏Ÿáÿßÿ±/ÿ•ÿÆŸÅÿßÿ° ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ™ÿßŸÑŸä ŸàÿßŸÑÿ≥ÿßÿ®ŸÇ
    prevBtn.style.display = page>0 ? "inline-block":"none";
    nextBtn.style.display = end < videos.length ? "inline-block":"none";
  }

  card.onclick = () => {
  const params = new URLSearchParams();
  params.set("video", v.url);
  params.set("title", v.title);
  params.set("desc", v.description || "ŸÑÿß ŸäŸàÿ¨ÿØ ÿ™ŸÅÿßÿµŸäŸÑ");
  window.location.href = "watch.html?" + params.toString();
};
  
  nextBtn.onclick = ()=>{
    page++;
    loadPage();
    window.scrollTo({top:0, behavior:"smooth"});
  };

  prevBtn.onclick = ()=>{
    page--;
    loadPage();
    window.scrollTo({top:0, behavior:"smooth"});
  };

  // ÿ£ŸàŸÑ ÿ™ÿ≠ŸÖŸäŸÑ
  loadPage();
</script>
</body>
</html>
